# TODO Write documentation for mart_email_performance_with_revenue [documentation]
#  Github main branch URL:
#  https://github.com/bsd/dbt-arc-functions/blob/main/documentation/email/marts/mart_email_performance_with_revenue.yml
#  Where to find in dbt-arc-functions local directory:
#  documentation/email/marts/mart_email_performance_with_revenue.yml
version: 2

models:
  - name: mart_email_performance_with_revenue
    description: Mart rolling up email performance across all vendors for this client. The grain of this table is email.
    columns:
      - name: message_id
        description: "Unique ID for email, coming either directly from CRM or a data intermediary like Frakture or Stitch."

      - name: from_name
        description: "Name that appears in 'From' line on email client. NOT the email address, that is from_email."

      - name: from_email
        description: "Email address that appears in 'From' line on email client."

      - name: best_guess_timestamp
        description: "Our best guess of when an email is was sent. This will vary between CRMs, but is usually some COALESCE of other timestamps."

      - name: scheduled_timestamp
        description: "From the CRM, not always included. When an email was scheduled to be sent."

      - name: pickup_timestamp
        description: "From the CRM, not always included. When an email was picked up by the mailing software to be sent."

      - name: delivered_timestamp
        description: "From the CRM, not always included. When an email was delivered to a client."

      - name: campaign_start_timestamp
        description: "The first timestamp from a given campaign. Derived field, usually MIN() of a campaign's timestamps."

      - name: campaign_latest_timestamp
        description: "The first timestamp from a given campaign. Derived field, usually MAX() of a campaign's timestamps."

      - name: email_name
        description: "Depending on the CRM, this is usually the internal name of an email for the CRM software."

      - name: email_subject
        description: "The subject line an end-user will see in their email client."

      - name: source_code
        description: ""

      - name: crm_entity
        description: ""

      - name: source_code_entity
        description: ""

      - name: best_guess_entity
        description: ""

      - name: audience
        description: ""

      - name: campaign_name
        description: ""

      - name: recurtype
        description: ""

      - name: recipients
        description: ""

      - name: opens
        description: ""

      - name: clicks
        description: ""

      - name: actions
        description: ""

      - name: total_bounces
        description: ""

      - name: block_bounces
        description: ""

      - name: tech_bounces
        description: ""

      - name: soft_bounces
        description: ""

      - name: unknown_bounces
        description: ""

      - name: unsubscribes
        description: ""

      - name: total_revenue
        description: ""

      - name: total_gifts
        description: ""

      - name: total_donors
        description: ""

      - name: one_time_revenue
        description: ""

      - name: one_time_gifts
        description: ""

      - name: new_monthly_revenue
        description: ""

      - name: new_monthly_gifts
        description: ""

