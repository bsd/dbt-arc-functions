version: 2
sources:
  - name: frakture_global_transactions
    database: "{{ var('database') }}"
    schema: src_frakture
    description: "All transactions from Frakture."
    tables:
      - name: transaction_summary
        description: "Summary of all transactions from Frakture."
        freshness: 
          warn_after: {count: 2, period: day}
          error_after: {count: 7, period: day}
        columns:
          - name: transaction_id
            description: "A unique identifier for the transaction."

          - name: transaction_bot_id
            description: "The identifier of the bot responsible for the transaction."

          - name: remote_transaction_id
            description: "The identifier of the transaction from the remote system."

          - name: person_id_int
            description: "A unique identifier for the person associated with the transaction."

          - name: ts
            description: "Timestamp of the transaction."

          - name: ts_tz
            description: "Timestamp of the transaction with timezone information."

          - name: amount
            description: "The monetary amount of the transaction."

          - name: refund_amount
            description: "The amount refunded for the transaction, if applicable."

          - name: recurring_number
            description: "The number of times the transaction has recurred."

          - name: transaction_source_code_id
            description: "The identifier of the transaction source code."

          - name: origin_source_code_id
            description: "The identifier of the originating source code."

          - name: resub_source_code_id
            description: "The identifier of the resubmitted source code."

          - name: signup_date
            description: "The date the person signed up for the service."

          - name: resub_date
            description: "The date the transaction was resubmitted."

          - name: end_date
            description: "The date the transaction ended or was cancelled."

          - name: final_transaction_source_code_id
            description: "The identifier of the final transaction source code."

          - name: is_major_customer_this_fy
            description: "Indicates if the person is considered a major customer in the current fiscal year."

          - name: is_recurring_customer_this_fy
            description: "Indicates if the person is a recurring customer in the current fiscal year."

          - name: recurs_int
            description: "The number of times the transaction recurs as an integer."

          - name: recurs
            description: "The recurring status of the transaction."

          - name: message_id
            description: "The identifier of the message associated with the transaction."

          - name: recommended_message_id
            description: "The identifier of the recommended message for the transaction."

          - name: override_message_id
            description: "The identifier of the message that overrides the default message for the transaction."

          - name: channel
            description: "The communication channel used for the transaction."

          - name: message_bot_id
            description: "The identifier of the bot responsible for the message."

          - name: message_publish_date
            description: "The date the message was published."

          - name: message_source_code_channel
            description: "The channel of the message source code."

          - name: is_first_transaction
            description: "Indicates if the transaction is the person's first transaction."

          - name: is_first_recurring_transaction
            description: "Indicates if the transaction is the person's first recurring transaction."

          - name: person_transaction_count
            description: "The total number of transactions the person has made."

          - name: person_transaction_revenue
            description: "The total revenue generated by the person's transactions."

          - name: person_recurring_transactions
            description: "The total number of recurring transactions made by the person."

          - name: person_recurring_revenue
            description: "The total revenue generated by the person's recurring transactions."

          - name: person_first_transaction_date
            description: "The date of the person's first transaction."

          - name: person_first_transaction_amount
            description: "The amount of the person's first transaction."

          - name: person_last_transaction_date
            description: "The date of the person's last transaction."

          - name: person_last_transaction_amount
            description: "The amount of the person's last transaction."

          - name: person_first_recurring_date
            description: "The date of the person's first recurring transaction."

          - name: person_first_recurring_amount
            description: "The amount of the person's first recurring transaction."

          - name: person_last_recurring_date
            description: "The date of the person's last recurring transaction."

          - name: person_last_recurring_amount
            description: "The amount of the person's last recurring transaction."

          - name: person_largest_transaction_amount
            description: "The largest transaction amount made by the person."

          - name: person_largest_transaction_date
            description: "The date of the person's largest transaction."

          - name: source_code_id
            description: "The unique identifier for the source code."

          - name: format
            description: "The format of the source code."

          - name: format_regex
            description: "The regular expression used to match the source code format."

          - name: acquisition_cost
            description: "The cost of acquiring the customer."

          - name: acquisition_cost_per_person
            description: "The cost of acquiring the customer per person."

          - name: acquisition_source
            description: "The source of the customer acquisition."

          - name: acquisition_date
            description: "The date of the customer acquisition."

          - name: source_code_channel
            description: "The channel associated with the source code."

          - name: source_code_channel_label
            description: "The label for the source code channel."

          - name: source_code_date
            description: "The date associated with the source code."

          - name: source_code_date_label
            description: "The label for the source code date."

          - name: subchannel
            description: "The subchannel associated with the source code."

          - name: subchannel_label
            description: "The label for the subchannel."

          - name: organic
            description: "Indicates if the source is organic or paid."

          - name: recurtype
            description: "The type of recurring transaction."

          - name: source_code_date_parsed
            description: "The parsed date associated with the source code."

          - name: remote_page_name
            description: "The name of the remote page associated with the transaction."

          - name: transaction_source_code_override
            description: "The source code that overrides the default transaction source code."

          - name: transaction_source_code
            description: "The source code associated with the transaction."

          - name: message_primary_source_code
            description: "The primary source code associated with the message."

          - name: campaign
            description: "The campaign associated with the transaction."

          - name: campaign_label
            description: "The label for the campaign."

          - name: message_set
            description: "The set of messages related to the transaction."

          - name: message_set_label
            description: "The label for the set of messages related to the transaction."

          - name: variant
            description: "The variant of the message, campaign, or other marketing element."

          - name: variant_label
            description: "The label for the variant."

          - name: account_prefix
            description: "The prefix for the account associated with the transaction."

          - name: account_prefix_label
            description: "The label for the account prefix."

          - name: media
            description: "The type of media used for the campaign or message."

          - name: media_label
            description: "The label for the media type."

          - name: appeal
            description: "The appeal or call-to-action associated with the campaign or message."

          - name: appeal_label
            description: "The label for the appeal."

          - name: fund
            description: "The fund or financial account associated with the transaction."

          - name: fund_label
            description: "The label for the fund."

          - name: issue
            description: "The issue or cause associated with the campaign or message."

          - name: issue_label
            description: "The label for the issue."

          - name: theme
            description: "The overall theme of the campaign or message."

          - name: theme_label
            description: "The label for the theme."

          - name: policy_name
            description: "The name of the policy associated with the campaign or message."

          - name: policy_label
            description: "The label for the policy."

          - name: goal
            description: "The primary goal or objective of the campaign or message."

          - name: goal_label
            description: "The label for the primary goal."

          - name: goal_2
            description: "The secondary goal or objective of the campaign or message."

          - name: goal_2_label
            description: "The label for the secondary goal."

          - name: audience
            description: "The target audience for the campaign or message."

          - name: audience_label
            description: "The label for the target audience."

          - name: targeting
            description: "The primary targeting criteria for the campaign or message."

          - name: targeting_label
            description: "The label for the primary targeting criteria."

          - name: targeting_2
            description: "The secondary targeting criteria for the campaign or message."

          - name: targeting_2_label
            description: "The label for the secondary targeting criteria."

          - name: author
            description: "The author or creator of the campaign or message."

          - name: author_label
            description: "The label for the author."

          - name: signer
            description: "The person or entity that has signed or endorsed the campaign or message."

          - name: signer_label
            description: "The label for the signer."

          - name: agency
            description: "The marketing agency or company responsible for the campaign or message."

          - name: agency_label
            description: "The label for the marketing agency."

          - name: partner
            description: "The partner organization or entity associated with the campaign or message."

          - name: partner_label
            description: "The label for the partner organization."

          - name: affiliation
            description: "The affiliation or relationship between the entities involved in the campaign or message."

          - name: affiliation_label
            description: "The label for the affiliation."

          - name: department
            description: "The department within the organization responsible for the campaign or message."

          - name: department_label
            description: "The label for the department within the organization responsible for the campaign or message."

          - name: geo
            description: "The geographic location or region associated with the campaign or message."

          - name: organic_label
            description: "The label indicating whether the campaign or message is organic (non-paid) or not."

          - name: recurtype_label
            description: "The label for the type of recurring transaction, such as subscription or donation."

          - name: additional_info
            description: "Any extra information related to the campaign or message that doesn't fit into other columns."

          - name: additional_info_label
            description: "The label for the additional information."

