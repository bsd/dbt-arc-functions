version: 2
sources:
  - name: frakture_global_message_email
    database: "{{ var('database') }}"
    schema: src_frakture
    tables:
      - name: global_message_summary_by_date
        freshness: 
          warn_after: {count: 2, period: day}
          error_after: {count: 7, period: day}
        loaded_at_field: cast(publish_date as timestamp)
        description: ""
        columns:
          - name: message_id
            description: ""
          - name: date
            description: ""
          - name: bot_id
            description: ""
          - name: bot_path
            description: ""
          - name: bot_label
            description: ""
          - name: bot_nickname
            description: ""
          - name: channel
            description: ""
          - name: channel_label
            description: ""
          - name: type
            description: ""
          - name: status
            description: ""
          - name: publish_date
            description: ""
          - name: campaign_id
            description: ""
          - name: submodule
            description: ""
          - name: remote_id
            description: ""
          - name: do_not_attribute
            description: ""
          - name: sent
            description: ""
          - name: impressions
            description: ""
          - name: clicks
            description: ""
          - name: engagements
            description: ""
          - name: actions
            description: ""
          - name: leads
            description: ""
          - name: total_actions
            description: ""
          - name: unique_actions
            description: ""
          - name: unsubscribes
            description: ""
          - name: complaints
            description: ""
          - name: soft_bounces
            description: ""
          - name: hard_bounces
            description: ""
          - name: blocked
            description: ""
          - name: transactions
            description: ""
          - name: revenue
            description: ""
          - name: spend
            description: ""
          - name: attributed_revenue
            description: ""
          - name: attributed_transactions
            description: ""
          - name: attributed_revenue_day_1
            description: ""
          - name: attributed_transactions_day_1
            description: ""
          - name: attributed_revenue_day_6
            description: ""
          - name: attributed_transactions_day_6
            description: ""
          - name: attributed_recurring_revenue
            description: ""
          - name: attributed_recurring_transactions
            description: ""
          - name: attributed_initial_recurring_revenue
            description: ""
          - name: attributed_initial_recurring_transactions
            description: ""
          - name: attributed_subsequent_recurring_revenue
            description: ""
          - name: attributed_subsequent_recurring_transactions
            description: ""
          - name: attributed_min_amount
            description: ""
          - name: origin_person_count
            description: ""
          - name: recurtype
            description: ""
          - name: goal
            description: ""
          - name: channel_type
            description: ""
          - name: appeal
            description: ""
          - name: campaign_label
            description: ""
          - name: audience
            description: ""
          - name: label
            description: ""
          - name: subject
            description: ""
          - name: campaign_name
            description: ""
          - name: campaign
            description: ""
          - name: account_prefix
            description: ""
          - name: from_name
            description: ""
          - name: preview_url
            description: ""
          - name: primary_source_code
            description: ""
          - name: primary_source_code_override
            description: ""
          - name: final_primary_source_code
            description: ""

      - name: global_message
        description: "Contains information about a global message."
        columns:
          - name: message_id
            description: "Unique identifier for the message."
          - name: channel
            description: "The channel where the message was sent."
          - name: channel_label
            description: "A label for the channel where the message was sent."
          - name: type
            description: "The type of message sent."
          - name: status
            description: "The status of the message (e.g. sent, failed)."
          - name: publish_date
            description: "The date when the message was published."
          - name: campaign_id
            description: "Unique identifier for the campaign associated with the message."
          - name: bot_id
            description: "Unique identifier for the bot that sent the message."
          - name: submodule
            description: "The submodule of the bot that sent the message."
          - name: remote_id
            description: "The remote identifier associated with the message."
          - name: do_not_attribute
            description: "Whether the message should not be attributed."
          - name: label
            description: "A label for the message."
          - name: subject
            description: "The subject of the message."
          - name: campaign_name
            description: "The - name of the campaign associated with the message."
          - name: from_name
            description: "The - name of the sender of the message."
          - name: preview_url
            description: "The URL to preview the message."
          - name: primary_source_code
            description: "The primary source code associated with the message."
          - name: primary_source_code_override
            description: "Override value for primary source code."
          - name: final_primary_source_code
            description: "The final primary source code associated with the message."